{% extends 'base.html' %}
{% load static %}
{% block body %}

{% include 'navbar.html' with staff=staff notification_count=notification_count %}
<section class="sectionLogin">
  <br>
  <h2 style = "text-align: center;">{{lab.lab.name}} ({{lab.lab.room_id}})</h2>
<div class="container">
  {% if staff.designation.designation ==  "Lab Supervisor" or staff.designation.designation ==  "System Analyst" or staff.designation.designation == "Lab Attendant" %}
  <div class="col-lg-12" style = "text-align: center;">
    <a href = "{% url 'main:viewtimetable_wrtlab' id=labid %}" style="color: white;text-decoration: none;"><button class="btn btn-dark" style = "border-radius: 20px;">View Time Table</button></a>
    <a href = "{% url 'main:viewLabClasses' id=labid %}" style="color: white;text-decoration: none;"><button class="btn btn-dark" style = "border-radius: 20px;">View Lab Classes</button></a>
  </div>
  {% endif %}
  <br>
<div class = "lab-h1">
    <h3 style = "text-align: center;">Devices </h3>
</div>
<div class="col-lg-12" style = "text-align: right;">
  <a href = "{% url 'main:add_devices' pk=labid %}" style="color: white;text-decoration: none;"><button class="btn btn-dark" style = "border-radius: 20px;"><i class="fa-solid fa-plus"></i> Device</button></a>
</div>
<br>
<div class = "lab-computers">
    
    <table class="table1 table table-borderless table-dark table-hover" style = "text-align: center;">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Device ID</th>
            <th scope="col">Device Category</th>
            <th scope="col">Devices Descirption</th>
            {% if staff.designation.designation == "Lab Attendant" %}
               <th scope="col">Add Complaint</th>
               <th scope="col" >All Complaints</th>
            {% endif %}
          </tr>
        </thead>
        
        <tbody>
        {% for device in devices %}
          <tr class="table-success" style = "text-align: center;">
            <td scope="row">{{forloop.counter}}</td>
            <td>{{ device.device_id }}</td>
            <td>{{ device.name.category }}</td>
            <td>{{ device.description }}</td>
            {% if staff.designation.designation ==  "Lab Attendant" %}
            <td><a href="{% url 'main:complaint' pk=device.id %}">Add Complaint</a></td>
            <td><a href="{% url 'main:viewdevicecomplaints' id=device.id %}">View All Complaints</a></td>                    
            {%endif%}
          </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<br><br>

</div>
</section>
{% endblock body %}
